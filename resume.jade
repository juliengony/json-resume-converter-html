doctype html
html(lang="en")
	head
		meta(http-equiv="Content-Type", content="text/html; charset=UTF-8")
		meta(name="description" content="html5 css3 resume")
		meta(charset="UTF-8")
		if style
			link(href="#{style}.css", type="text/css", rel="stylesheet")
		title= profile.firstName + ' ' + profile.lastName + "'s Resume"
	body
		main
			header
				hgroup
					h1= profile.firstName + ' ' + profile.lastName
					h2= title
				section#ContactInfo
					header
						h1 Contact info
					address
						div.ContactName= profile.firstName + ' ' + profile.lastName
						div.ContactAdress= profile.address.street + ' ' + profile.address.postalCode + ' ' + profile.address.city + ', ' + profile.address.country
						div.ContactAge#ContactAge
						div.ContactTel= '(' + profile.phone.extension + ') ' + profile.phone.number
						div.ContactEmail= profile.email
						div.ContactNationality= profile.nationality
				section#Photo
			div#MainPart
				section
					header
						h1 Summary
					p= summary
				section
					header
						h1 Objective
					p= objective
				section#XP
					header
						h1 Professional Experience
					each experience in experiences.sort(function(a,b){return new Date(b.period.start) - new Date(a.period.start);})
						article.Experience
							header
								details
									-var duration= moment.duration((experience.period.end == 'Now' ? new moment() : moment(experience.period.end)).diff(moment(experience.period.start))).format('y [years], M [months]')
									summary= experience.title + ' at ' + experience.company + ' for ' + duration
									div= experience.title
									div= experience.company
									div= experience.location
									div= moment(experience.period.start).format("YYYY/MM") + ' - ' + (experience.period.end == 'Now' ? 'Now' : moment(experience.period.end).format("YYYY/MM"))
									if experience.link
										aside
											a(href="#{experience.link}")= experience.link
								each project in experience.projects
									article.Project
										header
											h2= project.name
										div= project.description
										dl.technologies
											each technology in project.technologies
												dt= technology
										if project.link
											aside
												a(href="#{project.link}")= project.link
				section#skills
					header
						h1 Skills
					dl
						each skillValues, skillCategory in skills
							dt= skillCategory
							each skillValue in skillValues
								dd
									details
										summary= skillValue.skill
										if skillValue
											div= skillValue.details
				section#languages
					header
						h1 Languages
					dl.simpleList
						each languageProficiency, languageName in languages
							dt= languageName
							dd= languageProficiency
				section#education
					header
						h1 Education
					each school in education
						details
							-var schoolDuration= moment(school.period.start).format('YYYY') + ' - ' + moment(school.period.end).format('YYYY')
							summary= schoolDuration + ': ' + school.degree + ' ' + school.study + ' at ' + school.school
							div= schoolDuration
							div= school.school
							div= school.degree
							div= school.study
							div= school.description
							if school.link
								aside
									a(href="#{school.link}")= school.link
				section#Interests
					header
						h1 Interests
					dl.simpleList
						each interestValue, interestsName in interests
							dt= interestsName
							dd= interestValue
				section#Links
					header
						h1 Links
					dl.simpleList
						each linkUrl, linkName in links
							dt= linkName
							dd
								a(href="#{linkUrl}")= linkUrl
		footer
			p Generated by json-resume-converter-html
			aside
				a(href="https://github.com/juliengony/json-resume-converter-html") GitHub
						
		script(type='text/javascript').
			(function() {
				var age = Math.floor(Math.abs(new Date() - new Date('#{profile.dateOfBirth}'))/31536000000);
				document.getElementById("ContactAge").innerHTML = age + ' years old';
			})();
				
